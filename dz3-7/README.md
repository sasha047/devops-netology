## Домашнее задание к занятию "3.7. Компьютерные сети.Лекция 2"  
## Задание  
## 1. Проверьте список доступных сетевых интерфейсов на вашем компьютере.   
## Какие команды есть для этого в Linux и в Windows?    
Linux:  
![Рис.1-1](https://github.com/sasha047/devops-netology/blob/main/dz3-7/img/1-1.png)  


Windows:  

![Рис.1-2](https://github.com/sasha047/devops-netology/blob/main/dz3-7/img/1-2.png)  

## 2. Какой протокол используется для распознавания соседа по сетевому интерфейсу?  
##  Какой пакет и команды есть в Linux для этого?  
>Используется протокол: LLDP  
>Устанока пакета: sudo apt install lldpd  
>Команда: lldpctl  
![Рис.2](https://github.com/sasha047/devops-netology/blob/main/dz3-7/img/2.png)  
## 3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей?  
## Какой пакет и команды есть в Linux для этого? Приведите пример конфига.      
>Технология VLAN стандарта IEEE 802.1Q  
>Установка пакета sudo apt install vlan  

>Конфигурация VLAN в Debian и Ubuntu  

>В файл /etc/network/interfaces добавляем следующие строки:  
>vlan с ID-88 для интерфейса eth0 with ID - 88  
	...  
	auto eth0.88  
	iface eth0.88 inet static  
	address 192.168.88.200  
	netmask 255.255.255.0  
	vlan-raw-device eth0  
	...  
>auto eth0.88 — «поднимать» интерфейс при запуске сетевой службы  
>iface eth0.88 — название интерфейса  
>vlan-raw-device— указывает на каком физическом интерфейсе создавать VLAN.  
  
>Сохраняем, закрываем и перезапускаем сеть.  
>systemctl restart network  

>Пример конфига в netplan:  
    network:  
      version: 2  
      renderer: networkd  
      ethernets:  
        ens4:   
          optional: yes  
          addresses:   
            - 192.168.88.1/24  
     vlans:  
        vlan89:  
          id: 89  
          link: ens4   
          addresses:  
            - 192.168.89.1/24  
## 4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки?   
## Приведите пример конфига.  

Mode-0(balance-rr):   
>– Данный режим используется по умолчанию. Balance-rr обеспечивается балансировку нагрузки и отказоустойчивость.   
>В данном режиме сетевые пакеты отправляются “по кругу”, от первого интерфейса к последнему.   
>Если выходят из строя интерфейсы, пакеты отправляются на остальные оставшиеся.   
>Дополнительной настройки коммутатора не требуется при нахождении портов в одном коммутаторе.   
>При разностных коммутаторах требуется дополнительная настройка.  
Mode-1(active-backup):  
> – Один из интерфейсов работает в активном режиме, остальные в ожидающем.   
>При обнаружении проблем на активном интерфейсе производится переключение на ожидающий интерфейс.   
>Не требует поддержки от коммутатора.  
Mode-2(balance-xor):  
> – Передача пакетов распределяется по типу входящего и исходящего трафика по формуле ((MAC src) XOR (MAC dest)) % число интерфейсов.   
>Режим дает балансировку нагрузки и отказоустойчивость. Не требуется дополнительной настройки коммутатора.  
Mode-3(broadcast):  
> – Происходит передача во все объединенные интерфейсы, тем самым обеспечивая отказоустойчивость.   
>Рекомендуется только для использования MULTICAST трафика.  
Mode-4(802.3ad):  
> – динамическое объединение одинаковых портов.  
> В данном режиме можно значительно увеличить пропускную способность входящего так и исходящего трафика.  
> Для данного режима необходима поддержка и настройка коммутатора.  
Mode-5(balance-tlb):  
> – Адаптивная балансировки нагрузки трафика.   
>Входящий трафик получается только активным интерфейсом, исходящий распределяется   
>в зависимости от текущей загрузки канала каждого интерфейса.   
>Не требует специальной поддержки и настройки коммутатора/коммутаторов.  
Mode-6(balance-alb):  
> – Адаптивная балансировка нагрузки. Отличается более совершенным алгоритмом балансировки нагрузки чем Mode-5.   
>Обеспечивает балансировку нагрузки как исходящего так и входящего трафика.  
>Не требует специальной поддержки и настройки коммутатора/коммутаторов.  

## 5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24.   
## Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.    
![Рис.5](https://github.com/sasha047/devops-netology/blob/main/dz3-7/img/5.png)  

>В сети маской /29 - 6 IP адресов  
## 6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты.   
## Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.    
10.0.0.0/8 - занято  
192.168.0.0/16 - занято  
172.16.0.0/12 - занято.  
Из частных сетей остается диапазон 100.64.0.0/10  
Нужно использовать /26 (62 хоста)  
![Рис.6](https://github.com/sasha047/devops-netology/blob/main/dz3-7/img/6.png)  

Можем использовать 100.64.0.0/26  
## 7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью?     
## Как из ARP таблицы удалить только один нужный IP?    
Linux:   
	ip neigh, arp -n  
![Рис.7-1](https://github.com/sasha047/devops-netology/blob/main/dz3-7/img/7-1.png)  
Windows: arp -a  
![Рис.7-2](https://github.com/sasha047/devops-netology/blob/main/dz3-7/img/7-2.png)  

Очистка кеша:  
Linux:   
	ip neigh flush  
Windows:    
	arp -d *  

Удалить один IP:  
Linux:   
	ip neigh delete <IP> dev <INTERFACE>, arp -d <IP>  
Windows:   
	arp -d <IP>    

##  Задание для самостоятельной отработки* (необязательно к выполнению)
Установите эмулятор EVE-ng.  
Инструкция по установке  
> Установку произвел.
>Частично выполнил задание. 
![Рис.8-1](https://github.com/sasha047/devops-netology/blob/main/dz3-7/img/8-1.png)  
 
Сдам задание с 3-8  
 
Выполните задания на lldp, vlan, bonding в эмуляторе EVE-ng.  
